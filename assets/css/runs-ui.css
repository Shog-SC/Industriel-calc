/* assets/css/runs-ui.css — V1.0.7 (DETAILS_TO_RIGHT_FIX_P_TAGS)
   ---------------------------------------------------------------------------
   UI "Save / Runs" (FRET / MINING / SALVAGE)

   What this fixes (based on your latest screenshot):
   - The details/empty-state text ("No run selected / Select a run on the left.")
     is NOT in a proper right panel; it sits between columns / looks "floating".
   - Root cause is usually DOM variants where the empty-state is a <p> (or similar)
     sibling inside the BODY container, and our previous selector did not move <p>
     into column 2.

   Strategy:
   - Keep resilient overlay open/close.
   - Keep the modal panel sizing.
   - Force the BODY container to be a 2-column grid.
   - Ensure ANY non-run content (including direct <p>) is placed into column 2.
   - Add a consistent right-panel background via BODY::after so even multiple <p>
     lines look like one panel.

   No JS changes required.
*/

:root{
  --ru-border: rgba(255,255,255,.10);
  --ru-text: rgba(245, 248, 255, .92);
  --ru-muted: rgba(245, 248, 255, .64);
  --ru-muted-2: rgba(245, 248, 255, .45);
  --ru-shadow: 0 10px 40px rgba(0,0,0,.55);
  --ru-radius: 18px;
  --ru-accent-b: rgba(0, 180, 210, .55);
  --ru-accent-bg: rgba(0, 180, 210, .14);
}

/* ---------------------------------------------------------------------------
   Overlay roots (Runs + Save) — resilient open/close
--------------------------------------------------------------------------- */
:is(
  #runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay,
  #saveOverlay, #saveRunOverlay, #shogSaveOverlay, .save-overlay, .save-ui-overlay, .saveui-overlay
){
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  padding: 22px;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

:is(
  #runsOverlay, #runsUiOverlay, #shogRunsOverlay,
  #saveOverlay, #saveRunOverlay, #shogSaveOverlay
)[hidden]{
  display: none !important;
}

:is(
  #runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay,
  #saveOverlay, #saveRunOverlay, #shogSaveOverlay, .save-overlay, .save-ui-overlay, .saveui-overlay
):is(.open, .show, .active, .is-open, .visible, [data-open="1"], [data-open="true"], [aria-hidden="false"]){
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* Open by removing [hidden] */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, #saveOverlay, #saveRunOverlay, #shogSaveOverlay):not([hidden]){
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* ---------------------------------------------------------------------------
   RUNS panel (modal) — overlay's first element child
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child{
  width: min(1240px, 96vw);
  height: min(600px, 88vh);
  border-radius: var(--ru-radius);
  background: linear-gradient(180deg, rgba(10,16,24,.92), rgba(6,11,18,.92));
  border: 1px solid var(--ru-border);
  box-shadow: var(--ru-shadow);
  overflow: hidden;

  display: grid;
  grid-template-rows: auto 1fr;
  grid-template-columns: 1fr;
}

/* ---------------------------------------------------------------------------
   HEADER — keep current look, but ensure it doesn't center content unexpectedly
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(h1, h2, h3, .runs-title, .runsui-title, .title){
  text-align: left !important;
}

/* Controls widgets */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  input[placeholder*="Search runs"]{
  height: 38px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--ru-border);
  background: rgba(10,16,24,.70);
  color: var(--ru-text);
  outline: none;
  position: static !important;
  top: auto !important;
  right: auto !important;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  input[placeholder*="Search runs"]::placeholder{
  color: var(--ru-muted-2);
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  select{
  height: 38px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--ru-border);
  background: rgba(10,16,24,.70);
  color: var(--ru-text);
  outline: none;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  button{
  height: 38px;
  padding: 0 14px;
  border-radius: 999px;
  border: 1px solid var(--ru-accent-b);
  background: var(--ru-accent-bg);
  color: var(--ru-text);
  font-weight: 700;
  letter-spacing: .2px;
  cursor: pointer;
}

/* ---------------------------------------------------------------------------
   BODY — direct child containing run items
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id]){
  /* 2 columns: list (360px) + details */
  display: grid;
  grid-template-columns: 360px 1fr;
  grid-auto-rows: min-content;
  align-content: start;

  min-height: 0;
  overflow: hidden;

  position: relative;
}

/* Right panel background (works even if details are multiple <p>) */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])::after{
  content: "";
  grid-column: 2;
  grid-row: 1 / -1;
  background: rgba(12, 19, 28, .18);
  border-left: 1px solid rgba(255,255,255,.08);
  pointer-events: none;
  z-index: 0;
}

/* Ensure content sits above the background */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
  > *{
  position: relative;
  z-index: 1;
  min-width: 0;
  min-height: 0;
}

/* LIST wrapper (if it exists) */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
  > :is(div, section, article, ul, ol):has(.run-item, .runs-item, [data-run-id]){
  grid-column: 1;
  overflow: auto;
  padding: 14px 12px;
  background: rgba(12, 19, 28, .28);
  border-right: 1px solid rgba(255,255,255,.08);
}

/* Run cards direct children (when there is no wrapper) */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
  > :is(.run-item, .runs-item, li, [data-run-id]){
  grid-column: 1;
  padding: 10px 12px;
}

/* DETAILS / EMPTY:
   Any direct child that is NOT list-like goes to column 2 (including <p>)
*/
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
  > :is(div, section, article, main, aside, p):not(:has(.run-item, .runs-item, [data-run-id])){
  grid-column: 2;
  padding: 16px 16px;
  overflow: auto;
  margin: 0;
}

/* Known detail/empty classes */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-detail, .runs-details, .runsui-detail, .detail, .details, .empty, .empty-state){
  margin: 0;
  color: var(--ru-text);
}

/* Empty-state visual */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.empty, .empty-state){
  padding: 18px;
  border: 1px dashed rgba(255,255,255,.14);
  border-radius: var(--ru-radius);
  background: rgba(10,16,24,.40);
  color: var(--ru-muted);
}

/* Prevent absolute pinning inside list/actions */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-item, .runs-item, li, .run-actions, .runs-item-actions){
  position: static !important;
}

/* UL/OL cleanup */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  ul,
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  ol{
  list-style: none;
  margin: 0;
  padding: 0;
}

/* ---------------------------------------------------------------------------
   SAVE overlay — minimal (first child panel)
--------------------------------------------------------------------------- */
:is(#saveOverlay, #saveRunOverlay, #shogSaveOverlay, .save-overlay, .save-ui-overlay, .saveui-overlay)
  > :is(div, section, article, dialog):first-child{
  width: min(740px, 94vw);
  max-height: min(520px, 86vh);
  border-radius: var(--ru-radius);
  background: linear-gradient(180deg, rgba(10,16,24,.92), rgba(6,11,18,.92));
  border: 1px solid var(--ru-border);
  box-shadow: var(--ru-shadow);
  overflow: auto;
  padding: 16px;
}

/* ---------------------------------------------------------------------------
   Responsive
--------------------------------------------------------------------------- */
@media (max-width: 980px){
  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    > :is(div, section, article, dialog):first-child
    > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id]){
    grid-template-columns: 1fr;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    > :is(div, section, article, dialog):first-child
    > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])::after{
    grid-column: 1;
    border-left: none;
    border-top: 1px solid rgba(255,255,255,.08);
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    > :is(div, section, article, dialog):first-child
    > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
    > :is(div, section, article, main, aside, p):not(:has(.run-item, .runs-item, [data-run-id])){
    grid-column: 1;
  }
}
