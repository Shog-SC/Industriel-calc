/* assets/css/runs-ui.css — V1.0.6 (RUNS_HEADER_BODY_POLISH)
   ---------------------------------------------------------------------------
   UI "Save / Runs" (FRET / MINING / SALVAGE)

   Fixes (from your last screenshot):
   - Header: title block drifting toward center; controls not cleanly docked right.
   - Body: list + details are not rendered as 2 clear panels (details text appears but
     doesn't feel like a right-side panel).

   Strategy:
   - Keep resilient overlay open/close (hidden/class/data-open variants).
   - Panel = first element child of runs overlay.
   - Header = the first direct child inside panel that contains the "Search runs" input.
     (If your markup has a dedicated .runs-controls wrapper, it is used; otherwise, a
      fallback styles input/select/buttons directly.)
   - Body = the direct child that contains run items; it becomes a 2-column grid.
     Left: list container (element containing run items).
     Right: details/empty container (siblings not containing run items).

   No JS changes required.
*/

:root{
  --ru-border: rgba(255,255,255,.10);
  --ru-border-2: rgba(255,255,255,.14);
  --ru-text: rgba(245, 248, 255, .92);
  --ru-muted: rgba(245, 248, 255, .64);
  --ru-muted-2: rgba(245, 248, 255, .45);
  --ru-shadow: 0 10px 40px rgba(0,0,0,.55);
  --ru-radius: 18px;
  --ru-gap: 14px;
  --ru-accent-b: rgba(0, 180, 210, .55);
  --ru-accent-bg: rgba(0, 180, 210, .14);
}

/* ---------------------------------------------------------------------------
   Overlay roots (Runs + Save) — resilient open/close
--------------------------------------------------------------------------- */
:is(
  #runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay,
  #saveOverlay, #saveRunOverlay, #shogSaveOverlay, .save-overlay, .save-ui-overlay, .saveui-overlay
){
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  padding: 22px;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

:is(
  #runsOverlay, #runsUiOverlay, #shogRunsOverlay,
  #saveOverlay, #saveRunOverlay, #shogSaveOverlay
)[hidden]{
  display: none !important;
}

:is(
  #runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay,
  #saveOverlay, #saveRunOverlay, #shogSaveOverlay, .save-overlay, .save-ui-overlay, .saveui-overlay
):is(.open, .show, .active, .is-open, .visible, [data-open="1"], [data-open="true"], [aria-hidden="false"]){
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, #saveOverlay, #saveRunOverlay, #shogSaveOverlay):not([hidden]){
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* ---------------------------------------------------------------------------
   RUNS panel (modal) — overlay's first element child
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child{
  width: min(1240px, 96vw);
  height: min(600px, 88vh);
  border-radius: var(--ru-radius);
  background: linear-gradient(180deg, rgba(10,16,24,.92), rgba(6,11,18,.92));
  border: 1px solid var(--ru-border);
  box-shadow: var(--ru-shadow);
  overflow: hidden;

  display: grid;
  grid-template-rows: auto 1fr;
  grid-template-columns: 1fr;
}

/* ---------------------------------------------------------------------------
   HEADER — direct child containing the search input
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, header, section, nav, form):has(input[placeholder*="Search runs"]){
  grid-row: 1;

  /* layout: title left / controls right */
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 18px;
  align-items: center;

  padding: 18px 18px 14px 18px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  text-align: left !important;
}

/* Ensure any title-like text inside header is left-aligned and not centered */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(div, header, section, nav, form):has(input[placeholder*="Search runs"])
  :is(h1, h2, h3, .runs-title, .runsui-title, .title){
  margin: 0;
  color: var(--ru-text);
  font-weight: 800;
  letter-spacing: .2px;
  text-align: left !important;
}

/* Subtitle-like lines */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(div, header, section, nav, form):has(input[placeholder*="Search runs"])
  :is(.runs-subtitle, .runsui-subtitle, .subtitle, small){
  color: var(--ru-muted);
  font-size: 12px;
  line-height: 1.25;
  text-align: left !important;
}

/* Put any non-controls block in the left header column */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, header, section, nav, form):has(input[placeholder*="Search runs"])
  > :is(div, section, article):not(:has(input[placeholder*="Search runs"])):not(:has(select)):not(:has(button)){
  grid-column: 1;
  align-self: center;
}

/* Controls wrapper (preferred) */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar, .header-actions, .actions):has(input[placeholder*="Search runs"]){
  grid-column: 2;
  justify-self: end;

  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-end;
  gap: 10px 12px;
  min-width: min(720px, 100%);
}

/* Search input */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  input[placeholder*="Search runs"]{
  flex: 0 0 240px;
  max-width: 320px;
  height: 38px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--ru-border);
  background: rgba(10,16,24,.70);
  color: var(--ru-text);
  outline: none;

  position: static !important;
  top: auto !important;
  right: auto !important;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  input[placeholder*="Search runs"]::placeholder{
  color: var(--ru-muted-2);
}

/* Sort select */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  select{
  flex: 0 1 420px;
  min-width: 220px;
  max-width: 520px;
  height: 38px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--ru-border);
  background: rgba(10,16,24,.70);
  color: var(--ru-text);
  outline: none;
}

/* Header action buttons */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  button{
  height: 38px;
  padding: 0 14px;
  border-radius: 999px;
  border: 1px solid var(--ru-accent-b);
  background: var(--ru-accent-bg);
  color: var(--ru-text);
  font-weight: 700;
  letter-spacing: .2px;
  cursor: pointer;
}

/* Make controls dock right in one line when space allows */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar, .header-actions, .actions):has(input[placeholder*="Search runs"])
  select{ order: 1; }

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar, .header-actions, .actions):has(input[placeholder*="Search runs"])
  input[placeholder*="Search runs"]{ order: 2; margin-left: auto; }

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar, .header-actions, .actions):has(input[placeholder*="Search runs"])
  button{ order: 3; }

/* ---------------------------------------------------------------------------
   BODY — direct child containing run items
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id]){
  grid-row: 2;

  display: grid;
  grid-template-columns: 360px 1fr;
  min-height: 0;
  overflow: hidden;
}

/* LIST PANEL — wrapper containing run items */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
  > :is(div, section, article, ul, ol):has(.run-item, .runs-item, [data-run-id]){
  grid-column: 1;
  border-right: 1px solid rgba(255,255,255,.08);
  background: rgba(12, 19, 28, .28);
  overflow: auto;
  padding: 14px 12px;
  min-height: 0;
}

/* DETAILS PANEL — direct child not containing run items */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  > :is(div, section, article, dialog):first-child
  > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
  > :is(div, section, article, main, aside):not(:has(.run-item, .runs-item, [data-run-id])){
  grid-column: 2;
  background: rgba(12, 19, 28, .18);
  overflow: auto;
  padding: 16px 16px;
  min-height: 0;
}

/* Empty-state visual */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.empty, .empty-state){
  padding: 18px;
  border: 1px dashed rgba(255,255,255,.14);
  border-radius: var(--ru-radius);
  background: rgba(10,16,24,.40);
  color: var(--ru-muted);
}

/* Prevent absolute pinning inside list/actions */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-item, .runs-item, li, .run-actions, .runs-item-actions){
  position: static !important;
}

/* UL/OL cleanup */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  ul,
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  ol{
  list-style: none;
  margin: 0;
  padding: 0;
}

/* ---------------------------------------------------------------------------
   SAVE overlay — minimal (first child panel)
--------------------------------------------------------------------------- */
:is(#saveOverlay, #saveRunOverlay, #shogSaveOverlay, .save-overlay, .save-ui-overlay, .saveui-overlay)
  > :is(div, section, article, dialog):first-child{
  width: min(740px, 94vw);
  max-height: min(520px, 86vh);
  border-radius: var(--ru-radius);
  background: linear-gradient(180deg, rgba(10,16,24,.92), rgba(6,11,18,.92));
  border: 1px solid var(--ru-border);
  box-shadow: var(--ru-shadow);
  overflow: auto;
  padding: 16px;
}

/* ---------------------------------------------------------------------------
   Responsive
--------------------------------------------------------------------------- */
@media (max-width: 980px){
  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    > :is(div, section, article, dialog):first-child
    > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id]){
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 1fr;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    > :is(div, section, article, dialog):first-child
    > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
    > :is(div, section, article, ul, ol):has(.run-item, .runs-item, [data-run-id]){
    grid-column: 1;
    border-right: none;
    border-bottom: 1px solid rgba(255,255,255,.08);
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    > :is(div, section, article, dialog):first-child
    > :is(div, section, article, main):has(.run-item, .runs-item, .run-actions, .runs-item-actions, [data-run-id])
    > :is(div, section, article, main, aside):not(:has(.run-item, .runs-item, [data-run-id])){
    grid-column: 1;
  }
}

@media (max-width: 520px){
  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay){
    padding: 12px;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    > :is(div, section, article, dialog):first-child
    > :is(div, header, section, nav, form):has(input[placeholder*="Search runs"]){
    grid-template-columns: 1fr;
  }
}
