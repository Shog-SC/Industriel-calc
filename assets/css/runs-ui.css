/* assets/css/runs-ui.css — V1.0.1 (RUNS_LAYOUT_REWORK)
   ---------------------------------------------------------------------------
   UI "Save / Runs" (FRET / MINING / SALVAGE) — Layout & hierarchy pass.
   Goals:
   - Header controls aligned (Sort + Search + Actions) without overlap.
   - Two-column body (Runs list / Details) with proper scrolling.
   - More readable cards + consistent button sizing.
   Notes:
   - CSS is intentionally resilient: it targets several possible overlay/modal IDs/classes.
*/

:root{
  --ru-bg: rgba(7, 12, 18, .82);
  --ru-surface: rgba(12, 19, 28, .72);
  --ru-surface-2: rgba(18, 27, 38, .68);
  --ru-border: rgba(255,255,255,.10);
  --ru-border-2: rgba(255,255,255,.14);
  --ru-text: rgba(245, 248, 255, .92);
  --ru-muted: rgba(245, 248, 255, .64);
  --ru-muted-2: rgba(245, 248, 255, .45);
  --ru-shadow: 0 10px 40px rgba(0,0,0,.55);
  --ru-radius: 18px;
  --ru-radius-sm: 12px;
  --ru-gap: 14px;
  --ru-gap-sm: 10px;
  --ru-accent: rgba(0, 180, 210, .95);
  --ru-accent-2: rgba(0, 180, 210, .25);
}

/* ---------------------------------------------------------------------------
   Overlay root (support multiple possible IDs/classes)
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay){
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none; /* shown by JS */
  place-items: center;
  padding: 22px;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay).open,
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)[data-open="1"]{
  display: grid;
}

/* ---------------------------------------------------------------------------
   Modal / Panel container (support multiple possible class names)
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-modal, .runs-panel, .runs-window, .runsui-modal){
  width: min(1240px, 96vw);
  height: min(580px, 88vh);
  border-radius: var(--ru-radius);
  background: linear-gradient(180deg, rgba(10,16,24,.92), rgba(6,11,18,.92));
  border: 1px solid var(--ru-border);
  box-shadow: var(--ru-shadow);
  overflow: hidden;
  display: grid;
  grid-template-rows: auto 1fr;
}

/* ---------------------------------------------------------------------------
   Header
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-header, .runsui-header, header){
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--ru-gap);
  align-items: end;
  padding: 18px 18px 14px 18px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-title, .runsui-title, h1, h2, h3){
  margin: 0;
  color: var(--ru-text);
  font-weight: 800;
  letter-spacing: .2px;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-subtitle, .runsui-subtitle, .subtitle){
  margin-top: 4px;
  color: var(--ru-muted);
  font-size: 12px;
  line-height: 1.25;
}

/* Header controls: make it a flexible, non-overlapping toolbar */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar){
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-items: center;
  gap: 10px 12px;
  min-width: min(720px, 100%);
}

/* Sort select (e.g. "Newest") */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  select{
  order: 1;
  flex: 0 1 340px;   /* prevents full-width stretching */
  min-width: 180px;
  max-width: 520px;
  height: 38px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--ru-border);
  background: rgba(10,16,24,.70);
  color: var(--ru-text);
  outline: none;
}

/* Search input */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  :is(input[type="search"], input[placeholder*="Search"], input[placeholder*="search"]){
  order: 2;
  flex: 0 0 240px;
  max-width: 320px;
  height: 38px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--ru-border);
  background: rgba(10,16,24,.70);
  color: var(--ru-text);
  outline: none;
  position: static !important; /* overrides any absolute positioning */
  top: auto !important;
  right: auto !important;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  :is(input[type="search"], input[placeholder*="Search"], input[placeholder*="search"])::placeholder{
  color: var(--ru-muted-2);
}

/* Header action buttons (Refresh / Export / Close) */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  button{
  order: 3;
  height: 38px;
  padding: 0 14px;
  border-radius: 999px;
  border: 1px solid rgba(0, 180, 210, .55);
  background: rgba(0, 180, 210, .14);
  color: var(--ru-text);
  font-weight: 700;
  letter-spacing: .2px;
  cursor: pointer;
  transition: transform .06s ease, background .12s ease, border-color .12s ease;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  button:hover{
  background: rgba(0, 180, 210, .22);
  border-color: rgba(0, 180, 210, .75);
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  button:active{
  transform: translateY(1px);
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  button[data-variant="danger"],
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
  button.danger{
  border-color: rgba(220, 70, 70, .70);
  background: rgba(220, 70, 70, .14);
}

/* ---------------------------------------------------------------------------
   Body layout (Runs list / Details)
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-body, .runs-content, .runsui-content){
  padding: 14px 18px 18px 18px;
  display: grid;
  grid-template-columns: 360px 1fr;
  gap: var(--ru-gap);
  min-height: 0; /* allows proper child scrolling */
}

/* Left list column */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-list, .runsui-list, .runs-list-col){
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(12, 19, 28, .45);
  border-radius: var(--ru-radius);
  overflow: hidden;
  display: grid;
  grid-template-rows: 1fr;
  min-height: 0;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-list, .runsui-list, .runs-list-col) > *{
  min-height: 0;
}

/* If list uses an inner scroller */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-list-scroll, .runsui-list-scroll, ul, ol){
  overflow: auto;
  padding: 10px;
  margin: 0;
  list-style: none;
}

/* Run item card */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-item, .runs-item, li){
  background: rgba(10,16,24,.55);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: var(--ru-radius);
  padding: 12px 12px;
  margin: 0 0 10px 0;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items: start;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-item, .runs-item, li).active,
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-item, .runs-item, li)[data-active="1"]{
  border-color: rgba(0, 180, 210, .45);
  box-shadow: 0 0 0 1px rgba(0, 180, 210, .18) inset;
}

/* Run item title */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-title, .runs-item-title, strong){
  color: var(--ru-text);
  font-weight: 800;
  line-height: 1.15;
}

/* Run item meta lines */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-meta, .runs-item-meta, .meta, small, .muted){
  color: var(--ru-muted);
  font-size: 12px;
  line-height: 1.35;
}

/* Run item actions (edit/delete icons) */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-actions, .runs-item-actions){
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: flex-end;
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-actions, .runs-item-actions)
  button{
  height: 34px;
  width: 34px;
  padding: 0;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(18, 27, 38, .55);
  color: var(--ru-text);
}

:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.run-actions, .runs-item-actions)
  button:hover{
  border-color: rgba(255,255,255,.18);
  background: rgba(18, 27, 38, .72);
}

/* ---------------------------------------------------------------------------
   Details panel (right)
--------------------------------------------------------------------------- */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-detail, .runs-details, .runsui-detail, .detail){
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(12, 19, 28, .45);
  border-radius: var(--ru-radius);
  overflow: auto;
  padding: 14px;
  min-height: 0;
}

/* Empty state */
:is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
  :is(.runs-detail, .runs-details, .runsui-detail, .detail)
  :is(.empty, .empty-state){
  padding: 18px;
  border: 1px dashed rgba(255,255,255,.14);
  border-radius: var(--ru-radius);
  background: rgba(10,16,24,.40);
  color: var(--ru-muted);
}

/* ---------------------------------------------------------------------------
   Responsive adjustments
--------------------------------------------------------------------------- */
@media (max-width: 920px){
  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    :is(.runs-body, .runs-content, .runsui-content){
    grid-template-columns: 1fr;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar){
    min-width: 0;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
    select{
    flex: 1 1 220px;
    max-width: none;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar)
    :is(input[type="search"], input[placeholder*="Search"], input[placeholder*="search"]){
    flex: 1 1 220px;
    max-width: none;
  }
}

@media (max-width: 520px){
  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay){
    padding: 12px;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    :is(.runs-header, .runsui-header, header){
    grid-template-columns: 1fr;
    align-items: start;
  }

  :is(#runsOverlay, #runsUiOverlay, #shogRunsOverlay, .runs-overlay, .runs-ui-overlay, .runsui-overlay)
    :is(.runs-controls, .runs-toolbar, .runsui-toolbar, .toolbar){
    justify-content: flex-start;
  }
}
